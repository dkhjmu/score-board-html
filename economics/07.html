<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7ë‹¨ê³„: ì£¼ì‹ ë¶„ì„ê°€ í…ŒìŠ¤íŠ¸</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --primary: #34495e;
            --correct: #27ae60;
            --wrong: #e74c3c;
        }

        body {
            font-family: 'Jua', sans-serif;
            background-color: var(--bg-color);
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 25px;
            position: relative;
        }

        /* 1. ë°ì´í„° ì°¨íŠ¸ ì˜ì—­ */
        .data-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #eee;
        }

        .chart-row {
            display: flex;
            align-items: flex-end;
            height: 100px;
            gap: 10px;
            margin-bottom: 15px;
        }
        .bar {
            flex: 1;
            background: #bdc3c7;
            border-radius: 5px 5px 0 0;
            position: relative;
            transition: height 0.5s;
        }
        .bar-label {
            position: absolute;
            bottom: -25px;
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
            color: #666;
        }

        .stat-info {
            display: flex;
            justify-content: space-between;
            font-size: 1rem;
            font-weight: bold;
            padding: 10px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* 2. ë¶„ì„ ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•µì‹¬) */
        .checklist-section {
            margin-bottom: 20px;
        }
        .question-box {
            margin-bottom: 15px;
        }
        .q-title { font-size: 0.95rem; margin-bottom: 5px; display: block; color: #555; }

        .btn-row { display: flex; gap: 10px; }
        .check-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .check-btn:hover { background: #f1f1f1; }

        /* ì •ë‹µ/ì˜¤ë‹µ ìŠ¤íƒ€ì¼ */
        .check-btn.selected-correct {
            background: #d4edda; border-color: var(--correct); color: var(--correct); font-weight: bold;
        }
        .check-btn.selected-wrong {
            background: #f8d7da; border-color: var(--wrong); color: var(--wrong); animation: shake 0.3s;
        }

        /* 3. ìµœì¢… ê²°ë¡  ë²„íŠ¼ */
        .final-decision {
            display: none; /* ì²˜ìŒì—” ìˆ¨ê¹€ */
            border-top: 2px dashed #ddd;
            padding-top: 20px;
            text-align: center;
        }
        .decision-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            margin-bottom: 10px;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
        }
        .btn-rocket { background: #e74c3c; }
        .btn-turtle { background: #27ae60; }
        .decision-btn:active { transform: translateY(4px); box-shadow: none; }

        /* í”¼ë“œë°± ë©”ì‹œì§€ */
        .feedback-msg {
            position: absolute;
            top: 10px; left: 0; width: 100%;
            text-align: center;
            font-weight: bold;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 10px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

    </style>
</head>
<body>

<h1>7ë‹¨ê³„: ì£¼ì‹ ë¶„ì„ê°€ í…ŒìŠ¤íŠ¸ ğŸ“</h1>
<p style="text-align:center; color:#666; margin-bottom:20px;">ë°ì´í„°ë¥¼ ë³´ê³  íšŒì‚¬ì˜ ìƒíƒœë¥¼ ì§„ë‹¨í•˜ì„¸ìš”.</p>

<div class="container">

    <div class="feedback-msg" id="feedback">ì˜ëª»ëœ ë¶„ì„ì…ë‹ˆë‹¤! ë‹¤ì‹œ ë³´ì„¸ìš”.</div>

    <div class="data-section">
        <div style="font-size:0.8rem; color:#888; margin-bottom:10px;">ê¸°ì—… ì½”ë“œ: <span id="bizCode">001</span></div>

        <div class="chart-row">
            <div class="bar" id="bar1" style="height: 30%;"><span class="bar-label">-2ë…„</span></div>
            <div class="bar" id="bar2" style="height: 60%;"><span class="bar-label">-1ë…„</span></div>
            <div class="bar" id="bar3" style="height: 90%;"><span class="bar-label">í˜„ì¬</span></div>
        </div>

        <div class="stat-info">
            <div>ğŸ’° ì´ìµ: <span id="txtProfit" style="color:#e74c3c;">ì ì (ì†í•´)</span></div>
            <div>ğŸ ë°°ë‹¹: <span id="txtDiv">ì—†ìŒ</span></div>
        </div>
        <div style="margin-top:10px; font-size:0.9rem; color:#555;">
            ğŸ­ ì‚¬ì—…: <span id="txtBiz">AI ë¡œë´‡ ê°œë°œ</span>
        </div>
    </div>

    <div class="checklist-section">
        <div class="question-box">
            <span class="q-title">1. ë§¤ì¶œ(ë§‰ëŒ€ ê·¸ë˜í”„)ì´ ì–´ë–¤ê°€ìš”?</span>
            <div class="btn-row">
                <button class="check-btn" onclick="checkFact(0, 'grow')">ğŸ“ˆ ê¸‰ê²©íˆ ì„±ì¥ ì¤‘</button>
                <button class="check-btn" onclick="checkFact(0, 'flat')">ğŸ¢ ê±°ì˜ ë³€í™” ì—†ìŒ</button>
            </div>
        </div>

        <div class="question-box">
            <span class="q-title">2. íšŒì‚¬ê°€ ëˆì„ ë²Œê³  ìˆë‚˜ìš”?</span>
            <div class="btn-row">
                <button class="check-btn" onclick="checkFact(1, 'loss')">ğŸ“‰ ì•„ë‹ˆìš” (ì ì)</button>
                <button class="check-btn" onclick="checkFact(1, 'profit')">ğŸ’° ë„¤ (í‘ì)</button>
            </div>
        </div>
    </div>

    <div class="final-decision" id="finalSection">
        <h3>ğŸ” ë¶„ì„ ê²°ê³¼</h3>
        <p style="font-size:0.9rem; margin-bottom:15px;">ìœ„ íŠ¹ì§•ë“¤ì„ ì¢…í•©í–ˆì„ ë•Œ,<br>ì´ íšŒì‚¬ì˜ ìœ í˜•ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?</p>

        <button class="decision-btn btn-rocket" onclick="submitAnswer('rocket')">ğŸš€ ë¡œì¼“ (ì„±ì¥ì£¼)</button>
        <button class="decision-btn btn-turtle" onclick="submitAnswer('turtle')">ğŸ›¡ï¸ ê±°ë¶ì´ (ê°€ì¹˜ì£¼)</button>
    </div>

</div>

<script>
    // í€´ì¦ˆ ë°ì´í„°
    const quizData = [
        {
            bars: ['20%', '50%', '95%'],
            profitText: "ì ì (ì†í•´)", profitColor: "#e74c3c",
            divText: "ì—†ìŒ",
            biz: "ì‹ ì•½ ê°œë°œ (ë°”ì´ì˜¤)",
            facts: ['grow', 'loss'], // ì •ë‹µ íŒ©íŠ¸ (ì„±ì¥ì¤‘, ì ì)
            type: 'rocket',
            msg: "ë§ìŠµë‹ˆë‹¤! ë§¤ì¶œì€ í­ë°œí•˜ì§€ë§Œ ì•„ì§ ëˆì„ ëª» ë²„ëŠ” 'ë¡œì¼“' ê¸°ì—…ì…ë‹ˆë‹¤."
        },
        {
            bars: ['90%', '92%', '91%'],
            profitText: "í‘ì (ì´ìµ)", profitColor: "#27ae60",
            divText: "ì—° 5% ì§€ê¸‰",
            biz: "ë¼ë©´ íŒë§¤ (ì‹í’ˆ)",
            facts: ['flat', 'profit'], // ì •ë‹µ íŒ©íŠ¸ (í‰í‰í•¨, í‘ì)
            type: 'turtle',
            msg: "ì •ë‹µ! ì„±ì¥ì€ ë©ˆì·„ì§€ë§Œ, ëˆì„ ì˜ ë²Œì–´ ë‚˜ëˆ ì£¼ëŠ” 'ê±°ë¶ì´' ê¸°ì—…ì…ë‹ˆë‹¤."
        }
    ];

    let currentStage = 0;
    let correctFactsCount = 0; // ë§ì¶˜ íŒ©íŠ¸ ê°œìˆ˜

    // DOM ìš”ì†Œ
    const bar1 = document.getElementById('bar1');
    const bar2 = document.getElementById('bar2');
    const bar3 = document.getElementById('bar3');
    const txtProfit = document.getElementById('txtProfit');
    const txtDiv = document.getElementById('txtDiv');
    const txtBiz = document.getElementById('txtBiz');
    const bizCode = document.getElementById('bizCode');
    const finalSection = document.getElementById('finalSection');
    const feedback = document.getElementById('feedback');

    // ëª¨ë“  ë²„íŠ¼ ì´ˆê¸°í™”ìš©
    const allCheckBtns = document.querySelectorAll('.check-btn');

    function loadQuiz() {
        const data = quizData[currentStage];

        // UI ì´ˆê¸°í™”
        correctFactsCount = 0;
        finalSection.style.display = 'none';
        allCheckBtns.forEach(btn => {
            btn.className = 'check-btn'; // ìŠ¤íƒ€ì¼ ë¦¬ì…‹
            btn.disabled = false;
        });

        // ë°ì´í„° ë°”ì¸ë”©
        bizCode.innerText = "00" + (currentStage + 1);
        setTimeout(() => {
            bar1.style.height = data.bars[0];
            bar2.style.height = data.bars[1];
            bar3.style.height = data.bars[2];
        }, 100);

        txtProfit.innerText = data.profitText;
        txtProfit.style.color = data.profitColor;
        txtDiv.innerText = data.divText;
        txtBiz.innerText = data.biz;
    }

    // íŒ©íŠ¸ ì²´í¬ (ë¶„ì„ ë‹¨ê³„)
    function checkFact(qIndex, answer) {
        const data = quizData[currentStage];
        const correctAns = data.facts[qIndex];
        const btn = event.target;
        const parent = btn.parentNode;

        if (answer === correctAns) {
            // ì •ë‹µ
            btn.className = 'check-btn selected-correct';
            // ê°™ì€ ì¤„ì˜ ë‹¤ë¥¸ ë²„íŠ¼ ë¹„í™œì„±í™”
            const siblings = parent.querySelectorAll('.check-btn');
            siblings.forEach(b => b.disabled = true);

            correctFactsCount++;

            // 2ê°œ ë‹¤ ë§ì¶”ë©´ ê²°ë¡  ë²„íŠ¼ í™œì„±í™”
            if (correctFactsCount === 2) {
                showFinal();
            }
        } else {
            // ì˜¤ë‹µ (ê·¸ë˜í”„ë¥¼ ì œëŒ€ë¡œ ì•ˆ ë´„)
            btn.className = 'check-btn selected-wrong';
            showFeedback("âŒ ë°ì´í„°ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”!");
        }
    }

    function showFeedback(msg) {
        feedback.innerText = msg;
        feedback.style.opacity = 1;
        setTimeout(() => {
            feedback.style.opacity = 0;
        }, 1500);
    }

    function showFinal() {
        finalSection.style.display = 'block';
        // ìŠ¤í¬ë¡¤ ë‚´ë¦¬ê¸°
        setTimeout(() => {
            finalSection.scrollIntoView({ behavior: 'smooth' });
        }, 100);
    }

    // ìµœì¢… ê²°ë¡  ì œì¶œ
    function submitAnswer(type) {
        const data = quizData[currentStage];
        if (type === data.type) {
            alert(data.msg);
            // ë‹¤ìŒ ë‹¨ê³„
            currentStage++;
            if (currentStage < quizData.length) {
                loadQuiz();
            } else {
                alert("ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ê¸°ì—… ë¶„ì„ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤. ì´ì œ ì‹¤ì „ íˆ¬ì ì¤€ë¹„ ì™„ë£Œ!");
                location.reload(); // ë‹¤ì‹œ ì‹œì‘
            }
        } else {
            alert("ì•„ë‹™ë‹ˆë‹¤! ë¶„ì„í•œ ë‚´ìš©ì„ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.");
        }
    }

    // ì‹œì‘
    loadQuiz();

</script>
</body>
</html>