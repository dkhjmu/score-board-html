<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4ë‹¨ê³„: ê¸°ì—…ì€ ì–´ë–»ê²Œ ëˆì„ ë²„ë‚˜?</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --income-color: #3498db; /* ë§¤ì¶œ: íŒŒë‘ */
            --cost-color: #e74c3c;   /* ë¹„ìš©: ë¹¨ê°• */
            --profit-color: #2ecc71; /* ì´ìµ: ì´ˆë¡ */
            --invest-color: #9b59b6; /* ì¬íˆ¬ì: ë³´ë¼ */
            --text-color: #2c3e50;
        }

        body {
            font-family: 'Jua', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        h1 { margin-bottom: 5px; }
        p.subtitle { color: #7f8c8d; margin-bottom: 20px; text-align: center; }

        .container {
            background: white;
            width: 100%;
            max-width: 600px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            padding: 30px;
        }

        /* ì„¹ì…˜ êµ¬ë¶„ */
        .section { margin-bottom: 30px; border-bottom: 1px dashed #ddd; padding-bottom: 20px; }
        .section:last-child { border-bottom: none; margin-bottom: 0; }

        h2 { font-size: 1.2rem; margin-bottom: 15px; border-left: 5px solid var(--income-color); padding-left: 10px; }

        /* ìŠ¬ë¼ì´ë” ê·¸ë£¹ */
        .input-group { margin-bottom: 15px; }
        label { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 5px; }
        input[type="range"] { width: 100%; cursor: pointer; }

        /* ë§‰ëŒ€ ê·¸ë˜í”„ (Bar Chart) */
        .bar-container {
            display: flex;
            height: 40px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
            background-color: #eee;
            font-size: 0.9rem;
            color: white;
            line-height: 40px;
            text-align: center;
            position: relative;
        }

        .bar-revenue { background-color: var(--income-color); width: 100%; } /* ì „ì²´ ê¸¸ì´ ê¸°ì¤€ */

        /* ë¹„ìš©ê³¼ ì´ìµì„ ê²¹ì³ì„œ í‘œí˜„í•˜ê¸° ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .bar-breakdown {
            display: flex;
            width: 100%;
            height: 50px;
            margin-top: 5px;
        }
        .bar-cost { background-color: var(--cost-color); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.8rem; transition: width 0.3s; }
        .bar-profit { background-color: var(--profit-color); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; transition: width 0.3s; }
        .bar-loss { background-color: #95a5a6; color: white; width: 100%; text-align: center; line-height: 50px; display: none; }

        /* ìˆ«ì í‘œì‹œ */
        .money-text { float: right; color: #555; }

        /* CEOì˜ ì„ íƒ ì˜ì—­ */
        .ceo-decision {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            display: none; /* ì´ìµì´ ë‚˜ì•¼ ë³´ì„ */
        }
        .decision-bar {
            height: 30px;
            background: linear-gradient(to right, var(--profit-color) 50%, var(--invest-color) 50%);
            border-radius: 15px;
            margin: 10px 0;
            position: relative;
        }
        /* ì»¤ìŠ¤í…€ ìŠ¬ë¼ì´ë” */
        .split-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            outline: none;
        }
        .split-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 50%;
            cursor: pointer;
        }

        .distribution-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .txt-div { color: var(--profit-color); }
        .txt-inv { color: var(--invest-color); }

    </style>
</head>
<body>

<h1>4ë‹¨ê³„: ëˆì€ ì–´ë–»ê²Œ ë²Œê¹Œ?</h1>
<p class="subtitle">ë§¤ì¶œ - ë¹„ìš© = ìˆœì´ìµ (ì§„ì§œ ë‚´ ëˆ!)</p>

<div class="container">

    <div class="section">
        <h2 style="border-color: var(--income-color);">ğŸª ë–¡ë³¶ì´ ì¥ì‚¬í•˜ê¸°</h2>

        <div class="input-group">
            <label>ë–¡ë³¶ì´ 1ì¸ë¶„ ê°€ê²© <span class="money-text" id="valPrice">5,000ì›</span></label>
            <input type="range" id="rangePrice" min="3000" max="10000" step="500" value="5000">
        </div>

        <div class="input-group">
            <label>í•˜ë£¨ ì†ë‹˜ ìˆ˜ <span class="money-text" id="valCustomers">100ëª…</span></label>
            <input type="range" id="rangeCustomers" min="10" max="200" step="10" value="100">
        </div>

        <div class="input-group">
            <label>ì¬ë£Œë¹„+ì›”ì„¸ (ë¹„ìš©) <span class="money-text" id="valCost">300,000ì›</span></label>
            <input type="range" id="rangeCost" min="100000" max="1000000" step="50000" value="300000">
            <p style="font-size:0.8rem; color:#888; margin-top:5px;">* ì¬ë£Œë¥¼ ì¢‹ì€ ê±¸ ì“°ê±°ë‚˜ ì›”ì„¸ê°€ ë¹„ì‹¸ë©´ ë¹„ìš©ì´ ëŠ˜ì–´ë‚˜ìš”.</p>
        </div>
    </div>

    <div class="section">
        <h2 style="border-color: var(--profit-color);">ğŸ“Š ì˜¤ëŠ˜ì˜ ì„±ì í‘œ</h2>

        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
            <strong>ì´ ë§¤ì¶œ (ë²ˆ ëˆ)</strong>
            <strong style="color: var(--income-color);" id="resRevenue">500,000ì›</strong>
        </div>

        <div class="bar-breakdown">
            <div id="barCost" class="bar-cost">ë¹„ìš© (60%)</div>
            <div id="barProfit" class="bar-profit">ìˆœì´ìµ (40%)</div>
            <div id="barLoss" class="bar-loss">ğŸ˜­ ì ì (ì†í•´ ë´¤ì–´ìš”!)</div>
        </div>

        <div style="text-align: right; margin-top: 10px;">
            <span>ìµœì¢… ìˆœì´ìµ: </span>
            <span id="resNetIncome" style="font-size: 1.5rem; font-weight: bold; color: var(--profit-color);">200,000ì›</span>
        </div>
    </div>

    <div class="section ceo-decision" id="ceoSection">
        <h2 style="border-color: var(--invest-color);">ğŸ¤” ì‚¬ì¥ë‹˜ì˜ ê²°ì •</h2>
        <p style="font-size: 0.9rem;">ë‚¨ì€ ëˆ <strong><span id="decideMoney">200,000</span>ì›</strong>ì„ ì–´ë–»ê²Œ í• ê¹Œìš”?</p>

        <input type="range" id="splitSlider" class="split-slider" min="0" max="100" value="50">

        <div class="decision-bar" id="decisionBar"></div>

        <div class="distribution-info">
            <div class="txt-div">
                ğŸ’¸ ë°°ë‹¹ê¸ˆ (ì£¼ì£¼ì—ê²Œ)<br>
                <span id="valDividend">100,000ì›</span>
            </div>
            <div class="txt-inv" style="text-align: right;">
                ğŸ­ ì¬íˆ¬ì (ê°€ê²Œ í™•ì¥)<br>
                <span id="valInvest">100,000ì›</span>
            </div>
        </div>

        <p id="decisionMsg" style="margin-top: 15px; font-size: 0.9rem; background: #eee; padding: 10px; border-radius: 5px;">
            "ë°˜ë°˜ì”© ë‚˜ëˆ„ì! ì£¼ì£¼ë„ ì±™ê¸°ê³ , ë¯¸ë˜ë¥¼ ìœ„í•´ ì €ê¸ˆë„ í•˜ê³ ."
        </p>
    </div>

</div>

<script>
    // ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const rangePrice = document.getElementById('rangePrice');
    const rangeCustomers = document.getElementById('rangeCustomers');
    const rangeCost = document.getElementById('rangeCost');
    const splitSlider = document.getElementById('splitSlider');

    const valPrice = document.getElementById('valPrice');
    const valCustomers = document.getElementById('valCustomers');
    const valCost = document.getElementById('valCost');

    const resRevenue = document.getElementById('resRevenue');
    const resNetIncome = document.getElementById('resNetIncome');

    const barCost = document.getElementById('barCost');
    const barProfit = document.getElementById('barProfit');
    const barLoss = document.getElementById('barLoss');

    const ceoSection = document.getElementById('ceoSection');
    const decideMoney = document.getElementById('decideMoney');
    const valDividend = document.getElementById('valDividend');
    const valInvest = document.getElementById('valInvest');
    const decisionBar = document.getElementById('decisionBar');
    const decisionMsg = document.getElementById('decisionMsg');

    let netIncome = 0;

    function formatMoney(num) {
        return num.toLocaleString() + 'ì›';
    }

    function updateSimulation() {
        // 1. ê³„ì‚° ë¡œì§
        const price = parseInt(rangePrice.value);
        const customers = parseInt(rangeCustomers.value);
        const cost = parseInt(rangeCost.value); // ê³ ì •ë¹„ìš© ì„±ê²©ìœ¼ë¡œ ë‹¨ìˆœí™”

        const revenue = price * customers; // ë§¤ì¶œ
        netIncome = revenue - cost; // ìˆœì´ìµ

        // 2. í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        valPrice.textContent = formatMoney(price);
        valCustomers.textContent = customers + 'ëª…';
        valCost.textContent = formatMoney(cost);
        resRevenue.textContent = formatMoney(revenue);
        resNetIncome.textContent = formatMoney(netIncome);

        // 3. ê·¸ë˜í”„ ì—…ë°ì´íŠ¸
        if (revenue <= 0) {
            // ë§¤ì¶œ 0ì¼ ë•Œ ì˜ˆì™¸ì²˜ë¦¬
            barCost.style.width = '0%';
            barProfit.style.width = '0%';
            barLoss.style.display = 'none';
        } else if (netIncome >= 0) {
            // í‘ì (ëˆì„ ë²”)
            barLoss.style.display = 'none';
            barCost.style.display = 'flex';
            barProfit.style.display = 'flex';

            const costPercent = (cost / revenue) * 100;
            const profitPercent = 100 - costPercent;

            barCost.style.width = costPercent + '%';
            barCost.textContent = `ë¹„ìš©(${Math.round(costPercent)}%)`;

            barProfit.style.width = profitPercent + '%';
            barProfit.textContent = `ì´ìµ(${Math.round(profitPercent)}%)`;

            // í‘ìì¼ ë•Œë§Œ CEO ê²°ì •ì°½ ë³´ì—¬ì£¼ê¸°
            ceoSection.style.display = 'block';
            resNetIncome.style.color = 'var(--profit-color)';
            decideMoney.textContent = netIncome.toLocaleString();
            updateDecision(); // ë°°ë‹¹ ë¶„ë°° ë¡œì§ ì‹¤í–‰

        } else {
            // ì ì (ì†í•´ ë´„)
            barCost.style.display = 'none';
            barProfit.style.display = 'none';
            barLoss.style.display = 'block'; // ì ì ë§‰ëŒ€ í‘œì‹œ

            ceoSection.style.display = 'none'; // ëˆì´ ì—†ìœ¼ë‹ˆ ë°°ë‹¹ ê²°ì • ë¶ˆê°€
            resNetIncome.textContent =  netIncome.toLocaleString() + 'ì› (ì ì)';
            resNetIncome.style.color = '#e74c3c';
        }
    }

    function updateDecision() {
        if(netIncome <= 0) return;

        const divPercent = parseInt(splitSlider.value); // ë°°ë‹¹ ë¹„ìœ¨
        const invPercent = 100 - divPercent; // ì¬íˆ¬ì ë¹„ìœ¨

        const dividendMoney = netIncome * (divPercent / 100);
        const investMoney = netIncome * (invPercent / 100);

        valDividend.textContent = formatMoney(Math.floor(dividendMoney));
        valInvest.textContent = formatMoney(Math.floor(investMoney));

        // ê²°ì • ë°” ìƒ‰ìƒ ë¹„ìœ¨ ì¡°ì ˆ (ê·¸ë¼ë°ì´ì…˜)
        decisionBar.style.background = `linear-gradient(to right, var(--profit-color) ${divPercent}%, var(--invest-color) ${divPercent}%)`;

        // ë©”ì‹œì§€ ì¶œë ¥
        if(divPercent > 80) {
            decisionMsg.innerText = "ğŸ“¢ íˆ¬ììë“¤: 'ì™€ ì‚¬ì¥ë‹˜ ìµœê³ ! ë°°ë‹¹ê¸ˆ ì”ì¹˜ë‹¤!' (í•˜ì§€ë§Œ ê°€ê²Œ í™•ì¥ì€ ëª»í•¨)";
        } else if (divPercent < 20) {
            decisionMsg.innerText = "ğŸ“¢ ì‚¬ì¥ë‹˜: 'ì§€ê¸ˆì€ ë°°ê³ íŒŒë„ ì°¸ì. ëˆì„ ëª¨ì•„ì„œ 2í˜¸ì ì„ ë‚´ì•¼ í•´!' (ì£¼ì£¼ë“¤ì€ ì‹œë¬´ë£©)";
        } else {
            decisionMsg.innerText = "âš–ï¸ ì‚¬ì¥ë‹˜: 'ì ë‹¹íˆ ë‚˜ëˆ  ê°–ê³ , ì ë‹¹íˆ ì €ì¶•í•˜ì. ê· í˜•ì´ ì¤‘ìš”í•´.'";
        }
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    rangePrice.addEventListener('input', updateSimulation);
    rangeCustomers.addEventListener('input', updateSimulation);
    rangeCost.addEventListener('input', updateSimulation);
    splitSlider.addEventListener('input', updateDecision);

    // ì´ˆê¸° ì‹¤í–‰
    updateSimulation();
</script>
</body>
</html>